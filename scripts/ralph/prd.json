{
  "feature": "LiveKit AI Call Center",
  "description": "AI-powered call center using self-hosted LiveKit for converting $40 leads to $100+ customers via automated voice calls, SMS, and personalized scripts",
  "repository": "https://github.com/Julianb233/daily-event-insurance",
  "phases": [
    {
      "id": 1,
      "name": "Complete Admin UI",
      "tasks": [
        {
          "id": "1.1",
          "title": "Create new lead form page",
          "description": "Create /app/(admin)/admin/leads/new/page.tsx with a form to add new leads.\n\n**What to do:**\n- Create a form with fields: firstName, lastName, email, phone, businessName, businessType, source, interestLevel, city, state, estimatedParticipants\n- Use existing styling patterns from /app/(admin)/admin/dashboard/page.tsx (no shadcn/ui, use Tailwind + framer-motion)\n- POST to /api/admin/leads on submit\n- Redirect to /admin/leads/[id] on success\n\n**Files:**\n- app/(admin)/admin/leads/new/page.tsx (create)\n\n**Acceptance criteria:**\n- Form renders with all fields\n- Form validates required fields (firstName, lastName, email, phone, source)\n- Successful submission creates lead and redirects\n- pnpm run build passes",
          "status": "pending",
          "dependsOn": []
        },
        {
          "id": "1.2",
          "title": "Create scripts management page",
          "description": "Create /app/(admin)/admin/scripts/page.tsx to manage AI agent scripts.\n\n**What to do:**\n- List all scripts from GET /api/admin/scripts\n- Show name, businessType, interestLevel, isActive status\n- Add create/edit dialog with fields: name, description, businessType, interestLevel, systemPrompt, openingScript, closingScript, voiceId, priority\n- Toggle isActive status\n- Delete script with confirmation\n- Use existing styling patterns (Tailwind + framer-motion, no shadcn/ui)\n\n**Files:**\n- app/(admin)/admin/scripts/page.tsx (create)\n\n**Acceptance criteria:**\n- Scripts list renders\n- Can create new script\n- Can edit existing script\n- Can toggle active status\n- Can delete script\n- pnpm run build passes",
          "status": "pending",
          "dependsOn": ["1.1"]
        },
        {
          "id": "1.3",
          "title": "Add call and SMS action buttons",
          "description": "Wire up the Call and SMS buttons on leads list and detail pages.\n\n**What to do:**\n- In leads/page.tsx: Phone button calls POST /api/admin/leads/[id]/call, shows toast/alert with result\n- In leads/page.tsx: MessageSquare button opens SMS modal, sends via POST /api/admin/leads/[id]/sms\n- In leads/[id]/page.tsx: Call Now button already exists, verify it works\n- Add simple toast notification for success/error (can use alert() or add sonner toast)\n\n**Files:**\n- app/(admin)/admin/leads/page.tsx (modify)\n- app/(admin)/admin/leads/[id]/page.tsx (verify)\n\n**Acceptance criteria:**\n- Clicking call button triggers API call\n- Clicking SMS button shows input and sends message\n- Success/error feedback shown to user\n- pnpm run build passes",
          "status": "pending",
          "dependsOn": ["1.1"]
        }
      ]
    },
    {
      "id": 2,
      "name": "Complete API Routes",
      "tasks": [
        {
          "id": "2.1",
          "title": "Add scheduled actions PATCH/DELETE endpoints",
          "description": "Complete the scheduled actions API with update and delete.\n\n**What to do:**\n- Create /app/api/admin/scheduled-actions/[id]/route.ts\n- GET: Return single action\n- PATCH: Update status, scheduledFor, customMessage\n- DELETE: Remove action\n\n**Files:**\n- app/api/admin/scheduled-actions/[id]/route.ts (create)\n\n**Acceptance criteria:**\n- Can fetch single action\n- Can update action status to 'cancelled'\n- Can delete action\n- pnpm run build passes",
          "status": "pending",
          "dependsOn": []
        },
        {
          "id": "2.2",
          "title": "Add conversion events API",
          "description": "Create API to log and query conversion events.\n\n**What to do:**\n- Create /app/api/admin/leads/[id]/events/route.ts\n- GET: List conversion events for a lead\n- POST: Create new conversion event (eventType, eventValue, metadata)\n\n**Files:**\n- app/api/admin/leads/[id]/events/route.ts (create)\n\n**Acceptance criteria:**\n- Can list events for a lead\n- Can create new event\n- pnpm run build passes",
          "status": "pending",
          "dependsOn": []
        }
      ]
    },
    {
      "id": 3,
      "name": "Analytics Dashboard",
      "tasks": [
        {
          "id": "3.1",
          "title": "Create call center analytics page",
          "description": "Build analytics dashboard showing conversion metrics.\n\n**What to do:**\n- Create /app/(admin)/admin/call-center/analytics/page.tsx\n- Fetch data from GET /api/admin/analytics/conversions\n- Display: total leads, conversion rate, value increase, calls/SMS counts\n- Show breakdown by status and interest level as simple bar charts or progress bars\n- Use existing styling patterns\n\n**Files:**\n- app/(admin)/admin/call-center/analytics/page.tsx (create)\n\n**Acceptance criteria:**\n- Page renders with stats from API\n- Shows conversion rate percentage\n- Shows breakdown by status\n- pnpm run build passes",
          "status": "pending",
          "dependsOn": ["2.2"]
        },
        {
          "id": "3.2",
          "title": "Add analytics link to sidebar and dashboard",
          "description": "Link the analytics page from the call center dashboard.\n\n**What to do:**\n- In call-center/page.tsx: Add 'View Analytics' link to the Quick Actions section\n- Update AdminSidebar to include Analytics under Call Center section (optional, or keep in Quick Actions)\n\n**Files:**\n- app/(admin)/admin/call-center/page.tsx (modify)\n- components/admin/AdminSidebar.tsx (optional modify)\n\n**Acceptance criteria:**\n- Can navigate to analytics from dashboard\n- pnpm run build passes",
          "status": "pending",
          "dependsOn": ["3.1"]
        }
      ]
    },
    {
      "id": 4,
      "name": "Build Verification",
      "tasks": [
        {
          "id": "4.1",
          "title": "Run full build and fix any errors",
          "description": "Ensure the entire project builds successfully.\n\n**What to do:**\n- Run pnpm run build\n- Fix any TypeScript errors\n- Fix any missing imports\n- Ensure all new pages are accessible\n\n**Files:**\n- Any files with build errors\n\n**Acceptance criteria:**\n- pnpm run build passes with no errors\n- All call center pages load without runtime errors",
          "status": "pending",
          "dependsOn": ["1.2", "1.3", "2.1", "2.2", "3.2"]
        },
        {
          "id": "4.2",
          "title": "Commit and push to feature branch",
          "description": "Commit all changes and push to the feature branch.\n\n**What to do:**\n- git add -A\n- git commit with descriptive message\n- git push to feature/livekit-call-center branch\n\n**Acceptance criteria:**\n- All changes committed\n- Pushed to remote",
          "status": "pending",
          "dependsOn": ["4.1"]
        }
      ]
    }
  ],
  "completedPhases": [],
  "notes": [
    "Database schema already added to lib/db/schema.ts",
    "LiveKit Docker infrastructure in /livekit/",
    "Python voice agent in /agents/",
    "Core API routes already exist",
    "Using Tailwind + framer-motion for UI (no shadcn/ui)",
    "Follow existing patterns in /app/(admin)/admin/dashboard/page.tsx"
  ]
}
